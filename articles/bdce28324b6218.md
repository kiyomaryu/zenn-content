---
title: "WSL2ä¸Šã®minikubeã«ã¦hazalcastã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ§‹ç¯‰ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹æ–¹æ³•"
emoji: "ğŸ•"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
---

## ã¯ã˜ã‚ã«

ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®Hazelcastã‚’è§¦ã‚‹æ©Ÿä¼šãŒã‚ã‚Šã¾ã—ã¦ãã®æ™‚ã«ã‚„ã£ãŸæ§‹ç¯‰æ‰‹é †ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

## äº‹å‰æº–å‚™

- [minikubeã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://qiita.com/XPT60/items/ef9fbe82127b5b559b44)
- [helmã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â€»V3ã‚’å…¥ã‚Œã‚‹](https://helm.sh/ja/docs/intro/install/#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%8B%E3%82%89)

## æ§‹ç¯‰æ‰‹é †

åŸºæœ¬çš„ã«ã¯ä¸‹è¨˜ã®å…¬å¼ã®æ§‹ç¯‰æ‰‹é †ã«å¾“ã„å®Ÿæ–½ã—ã¾ã™ã€‚

- [Deploy a Cluster with the Hazelcast Platform Operator for Kubernetes](https://docs.hazelcast.com/operator/5.6/get-started)

```
# Helm repositoryã«è¿½åŠ ã€Hazelcast Platform Operatorã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
helm repo add hazelcast https://hazelcast-charts.s3.amazonaws.com/
helm repo update
helm install operator hazelcast/hazelcast-platform-operator --version=5.6.0 --set installCRDs=true
kubectl logs deployment.apps/operator-hazelcast-platform-operator

# Hazelcast Clusterã®é–‹å§‹
cat <<EOF > hazelcast.yaml
apiVersion: hazelcast.com/v1alpha1
kind: Hazelcast
metadata:
  name: hazelcast-sample
spec:
  clusterSize: 3
  repository: 'docker.io/hazelcast/hazelcast'
  version: '5.2.1-slim'
EOF

# ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’apply
kubectl apply -f hazelcast.yaml
# å‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
kubectl logs pod/hazelcast-sample-0

# Hazelcast ClusterãŒå‹•ã„ã¦ã„ã‚‹ã“ã¨ã®ç¢ºèª
kubectl get hazelcast

# Management Centerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cat <<EOF > management-center.yaml
apiVersion: hazelcast.com/v1alpha1
kind: ManagementCenter
metadata:
  name: managementcenter-sample
spec:
  repository: 'hazelcast/management-center'
  version: '5.2.1'
  externalConnectivity:
    type: LoadBalancer
  hazelcastClusters:
    - address: hazelcast-sample
      name: dev
  persistence:
    enabled: true
    size: 10Gi
EOF

# ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã‚’apply
kubectl apply -f management-center.yaml
# å‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
kubectl logs pod/managementcenter-sample-0

# ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹
# minikubeã§ãƒˆãƒ³ãƒãƒ«ã‚’ä½œã‚ŠexternalIPã‚’podã«å‰²å½“
minikube tunnel # ã“ã‚Œã¯ãƒˆãƒ³ãƒãƒ«ã‚’å¼µã‚Šç¶šã‘ã‚‹ã®ã§ã“ã®ã‚ã¨ã®ã‚³ãƒãƒ³ãƒ‰ã¯åˆ¥ã®ã‚·ã‚§ãƒ«é–‹ã„ã¦è¡Œã†
# ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰pod/managementcenter-sample-0ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰
kubectl port-forward managementcenter-sample-0 18080:8080


```

## ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ä¸‹è¨˜ã®URLã«ã¦ã‚¢ã‚¯ã‚»ã‚¹

http://localhost:18080

managementcenterã®æ“ä½œæ‰‹é †ã¯ã“ã¡ã‚‰ã‚’å‚è€ƒã«

- [Step 5. Set up Management Center](https://docs.hazelcast.com/hazelcast/5.1/getting-started/get-started-docker#step-5-set-up-management-center)

ã“ã‚Œã§ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰hazelcastã®ã‚¯ãƒ©ã‚¹ã‚¿ç®¡ç†ç”»é¢ã¸ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã—ãŸğŸ˜‰